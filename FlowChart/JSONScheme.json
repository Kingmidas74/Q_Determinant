{
	"type":"object",
	"$schema": "http://json-schema.org/draft-03/schema",
	"id": "http://jsonschema.net",
	"required":true,
	"additionalProperties": false,
	"properties":{
		"blocks": {
			"type":"array",
            "minitems":1,
			"id": "http://jsonschema.net/blocks",
			"required":true,
			"items":[
				{
					"type":"object",
					"name": "process",
					"id": "http://jsonschema.net/blocks/process",
					"required":false,
					"additionalProperties": false,
					"properties":{
						"content": {
							"type":"string",
							"id": "http://jsonschema.net/blocks/process/content",
							"required":true
						},
						"id": {
							"type":"number",
							"id": "http://jsonschema.net/blocks/process/id",
							"required":true,
							"uniqueItems": true
						},
						"previousBlock": {
							"type":"array",
							"minitems": 1,
							"id": "http://jsonschema.net/blocks/process/previousBlock",
							"required":true,
							"items":
								{
									"type":"number",
									"id": "http://jsonschema.net/blocks/process/previousBlock/0",
									"required":true
								}
							

						},
						"nextBlock": {
							"type":"number",
							"id": "http://jsonschema.net/blocks/process/nextBlock",
							"required":true,							
						},
						"type": {
							"type":"string",
							"id": "http://jsonschema.net/blocks/process/type",
							"required":true
						}
					}
				},
				{
					"type":"object",
					"ref": "http://jsonschema.net/blocks/process",
					"id": "http://jsonschema.net/blocks/InputOutput"
				},
				{
					"type":"object",
					"id": "http://jsonschema.net/blocks/condition",
					"required":false,
					"additionalProperties": false,
					"properties":{
						"content": {
							"type":"string",
							"id": "http://jsonschema.net/blocks/condition/content",
							"required":true
						},
						"falsePath": {
							"type":"array",							
							"id": "http://jsonschema.net/blocks/condition/falsePath",
                            "ref": "http://jsonschema.net/blocks",
							"required":true							
						},
                        "truePath": {
							"type":"array",							
							"id": "http://jsonschema.net/blocks/condition/truePath",
                            "ref": "http://jsonschema.net/blocks",
							"required":true							
						},                        
						"id": {
							"type":"number",
							"id": "http://jsonschema.net/blocks/process/id",
							"required":true,
							"uniqueItems": true
						},
						"previousBlock": {
							"type":"array",
							"minitems": 1,
							"id": "http://jsonschema.net/blocks/process/previousBlock",
							"required":true,
							"items":
								{
									"type":"number",
									"id": "http://jsonschema.net/blocks/process/previousBlock/0",
									"required":true
								}
							

						},
						"type": {
							"type":"string",
							"id": "http://jsonschema.net/blocks/condition/type",
							"required":true
						}
					}
				}
			]
		}		
	}
}
